<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width"/>
  <meta charSet="utf-8"/>
  <title>Yes or No - Tell your loved ones what you want</title>
  <meta name="robots" content="follow, index"/>
  <meta content="Tell your loved ones what you want" name="description"/>
  <meta property="og:url" content="https://marknicholasrazon.github.io/yesorno"/>
  <link rel="canonical" href="https://marknicholasrazon.github.io/yesorno"/>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="Yes or No"/>
  <meta property="og:description" content="Tell your loved ones what you want"/>
  <meta property="og:title" content="Yes or No - Tell your loved ones what you want"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@Yes or No"/>
  <meta name="twitter:title" content="Yes or No - Tell your loved ones what you want"/>
  <meta name="twitter:description" content="Tell your loved ones what you want"/>
  <meta name="twitter:image" content="/avatar.png"/>
  <meta name="next-head-count" content="18"/>
  <script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/build/sha256.min.js"></script>
</head>
<body>

<main>
	<h1>Yes or No</h1>
	<p>Tell your loved ones what you want</p>
	<input type="text" id="name" placeholder="Your Name">
	<textarea placeholder="Question" rows="5" id="question"></textarea>
	<textarea placeholder="Message" rows="5" id="message"></textarea>
	<button onclick="generateLink()">Create</button>
	<span id="place">
		<h2>Copy the link:</h2>
	</span>
</main>

<script>
function generateLink() {
  const name = document.getElementById("name").value;
  const question = document.getElementById("question").value;
  const message = document.getElementById("message").value;
  const originalUrl = "https://marknicholasrazon.github.io/answer.html?name=" + encodeURIComponent(name) + "&question=" + encodeURIComponent(question) + "&message=" + encodeURIComponent(message);
  const apiUrl = "https://tinyurl.com/api-create.php?url=" + encodeURIComponent(originalUrl);

  fetch(apiUrl)
    .then(response => response.text())
    .then(shortUrl => {
      const link = document.createElement("a");
      link.href = shortUrl;
      link.textContent = shortUrl;
      document.getElementById('place').appendChild(link);
      document.querySelector('span').style.display = "block";
    })
    .catch(error => console.log(error));
}

</script>
</body>
</html>